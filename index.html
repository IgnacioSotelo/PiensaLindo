<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@100;400;700;900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rancho&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Suez+One&display=swap" rel="stylesheet">
</head>

<body>
    <nav>
        <ul>
            <li><span>Conocer m√°s</span></li>
            <li><button>Acerca de</button></li>
        </ul>
    </nav>

    <!--

-->
    <main>
        <section class="section-trigger1">
            <div class="emo-container">

                <div class="emo shad" data-x='10vw' data-y='50vh' data-rotate='-40' data-bound='40' data-z='50'>
                    üéÇ
                </div>
                <div class="emo shad" data-x='20vw' data-y='70vh' data-rotate='-30' data-bound='50' data-z='40'>
                    üíé
                </div>
                <div class="emo shad" data-x='60vw' data-y='20vh' data-rotate='10' data-bound='30' data-z='20'>
                    üéÅ
                </div>
                <div class="emo shad" data-x='70vw' data-y='70vh' data-rotate='10' data-bound='20'>
                    üß∏
                </div>
                <div class="emo shad" data-x='30vw' data-y='20vh' data-rotate='-12' data-bound='30' data-z='30'>
                    ‚ù§Ô∏è‚Äçü©π
                </div>
                <div class="emo shad" data-x='75vw' data-y='50vh' data-rotate='20' data-bound='50'>
                    üòé
                </div>
                <div class="emo shad" data-x='10vw' data-y='10vh' data-rotate='-20' data-bound='50' data-z='60'>
                    üìç
                </div>
                <div class="emo shad" data-x='30vw' data-y='60vh' data-rotate='-5' data-bound='20'>
                    ü•§
                </div>
                <div class="emo shad" data-x='80vw' data-y='10vh' data-rotate='10' data-bound='70' data-z='90'>
                    üëª
                </div>
            </div>
        </section>
    </main>
    <div class="scroll-img">
        <img src="https://uploads-ssl.webflow.com/5cff83ac2044e22cb8cf2f11/5d00043816a6c695bcf1581a_scroll.gif" alt="">
    </div>

    <div class="info-wrap">
        <div class="info-cont">
            <h1 class="h1_titulo">Piensa bien,</h1>
            <br>
            <h1 class="h1_titulo">piensa lindo..</h1>
            <br>
            <br>
            <img src="assets/deco-1.png" alt="" width='70%'>
            <button class="shad">
                Conocer m√°s
                <div class="hover-btn"></div>
            </button>
        </div>
    </div>

    <section class="section-2">
        <div class="wrap-s2">
            <div class="s2-title">
                <h1>Llenemos la</h1>
                <h1>semana de <span class="span-mark-violeta">galletiterias <svg width="873" height="136"
                            viewBox="0 0 873 136" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="803.428" height="126.206"
                                transform="matrix(0.99925 -0.0387114 -0.556027 0.831165 70.1738 31.1018)"
                                fill="#9CFFA0" />
                        </svg></span></h1>
            </div>
            <div class="cards-container">
                <div class="wrap-cards">
                    <div class="card-s2 cards2-0">
                        <span>‚ú¶</span>
                        <h1>Surtido</h1>
                    </div>
                    <div class="card-s2 cards2-1">
                        <span>‚ú¶</span>
                        <h1>Hombre Monta√±a</h1>
                    </div>
                    <div class="card-s2 cards2-2">
                        <span>‚ú¶</span>
                        <h1>Pan</h1>
                    </div>
                    <div class="card-s2 cards2-3">
                        <span>‚ú¶</span>
                        <h1>Boca de dama..</h1>
                    </div>
                </div>
            </div>
        </div>
        <div class="stars-container">
            <div class="s2-stars-a s2-trigger-1">
                <p class="s2-star-1">‚ú¶</p>
                <p class="s2-star-2">‚ú¶</p>
            </div>
            <div class="s2-stars-b s2-trigger-2">
                <p class="s2-star-2">‚ú¶</p>
                <p class="s2-star-1">‚ú¶</p>
            </div>
        </div>
    </section>
    <section class="section-3">
        <div class="s3-wrap">
            <div class="s3-title">
                <h1>La mejor</h1>
                <h1>cita para</h1>
                <h1>hoy..</h1>
                <br>
                <br>
                <br>
                <p class="p-s3">La boludina de pasi√≥n se convirti√≥ en canci√≥n</p>
                <button class="shad s3-btn">Conocer m√°s</button>
            </div>
            <div class="s3-img">
                <div class="s3-celular-wrap">
                    <img class="mob-img" src="assets/celular.png" alt="" width="340" style="transform: rotate(-13deg);">
                    <div class="s3-celular shad">
                        <div class="celular-imgs-wrap">
                            <div class="match">
                                üëª
                            </div>
                            <div class="match m1">
                                üôÜ‚Äç‚ôÄÔ∏è‚Äã
                            </div>
                            <div class="match m2">
                                üßï‚Äã
                            </div>
                            <div class="match m3">
                                üßñ‚Äç‚ôÄÔ∏è
                            </div>
                        </div>
                        <div class="s3-button s3b1">
                            ‚úñÔ∏è
                        </div>
                        <div class="s3-button s3b2">
                            üíö
                        </div>
                    </div>
                </div>
            </div>
            <div class="s3-circle">
            </div>
            <div class="s3-circle border1"></div>
            <div class="s3-circle border2"></div>
            <div class="s3-circle border3"></div>
        </div>
    </section>

    <section class="section-4">
    </section>
    <section class="section-5">
        <div class="s5-border-s4"></div>
        <div class="s5-board">
            <div class="s5-block s5-blue">
                <div class="s5-blue-flex">
                    <div class="s5-blue-a">
                        <img src="assets/monster.png" alt="monster" width="40%">
                        <img src="assets/mansion.png" alt="mansion" width="40%">
                    </div>
                    <div class="s5-blue-b">
                        <h2 class="h2-blocks">Sigo a un monstruo
                            en la mansi√≥n</h2>
                    </div>
                </div>
            </div>
            <div class="s5-block s5-green"></div>
            <div class="s5-block s5-orange"></div>
            <div class="s5-block s5-pink"></div>
            <div class="s5-block s5-yellow"></div>
            <div class="s5-block s5-lightgreen"></div>
        </div>
    </section>
    <!--
-->
    <script src="https://unpkg.com/split-type"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.3/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.3/ScrollTrigger.min.js"></script>
    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=61a993eb9a24396d472b7770"
        type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.27/bundled/lenis.min.js"></script>

    <!--Lenis-->
    <script>
        gsap.registerPlugin(ScrollTrigger);

        const lenis = new Lenis();

        lenis.on("scroll", ScrollTrigger.update);

        gsap.ticker.add((time) => {
            lenis.raf(time * 1000);
        });

        gsap.ticker.lagSmoothing(0);
    </script>

    <script>
        let currentMousePos = { x: -1, y: -1 };
        let indexMatch = 3;
        let mm = gsap.matchMedia();

        let tl_titulo = gsap.timeline({
            scrollTrigger: {
                trigger: ".section-trigger1",
                start: "center+=100 top",
                end: "bottom top",
                scrub: 0.5,
            }
        });

        let tl_emo_out = gsap.timeline({
            scrollTrigger: {
                trigger: 'main',
                start: 'center+=40% center',
                end: 'center+=40%, center',
                scrub: 1,
            }
        });

        let tl_s2_trigger1 = gsap.timeline({
            scrollTrigger: {
                trigger: '.wrap-s2',
                start: 'top 20%',
                end: 'top+=10% 20%',
                scrub: 1,
            }
        });

        let tl_cards_out = gsap.timeline({
            scrollTrigger: {
                trigger: '.section-2',
                start: '70% center',
                end: 'bottom bottom',
                scrub: 1,
            }
        });

        let tl_section3 = gsap.timeline({
            scrollTrigger: {
                trigger: '.section-3',
                start: 'top center',
                end: 'center center',
                scrub: 2,
            }
        });

        let tl_section2_backcolor = gsap.timeline({
            scrollTrigger: {
                trigger: '.section-2',
                start: 'top top',
                end: '20% top',
                scrub: 0,
            }
        });

        let tl_section2_backcolor_2 = gsap.timeline({
            scrollTrigger: {
                trigger: '.section-3',
                start: 'top bottom',
                end: '20% bottom',
                scrub: 0,
            }
        });

        // Seteo emojis 
        $(".emo").each(function () {

            gsap.set($(this), {
                x: $(this).attr("data-x"),
                y: $(this).attr("data-y"),
                rotate: $(this).attr("data-rotate"),
                zIndex: $(this).attr("data-z")
            });

            let tl = gsap.timeline({
                scrollTrigger: {
                    trigger: ".section-trigger1",
                    start: "top top",
                    end: "bottom top",
                    scrub: 1
                }
            });

            //  Emojis se animan desde el centro
            tl.from($(this), {
                x: "47vw",
                y: "40vh",
                rotate: 0
            });
        });

        // Movimiento de emojis 
        $(document).mousemove(function (event) {
            currentMousePos.x = event.pageX;
            currentMousePos.y = event.pageY;

            $(".emo").each(function () {
                gsap.to($(this), {
                    xPercent: map(
                        currentMousePos.x,
                        0,
                        window.innerWidth,
                        -$(this).attr("data-bound"),
                        $(this).attr("data-bound")
                    ),
                    yPercent: map(
                        currentMousePos.y,
                        0,
                        window.innerHeight,
                        -$(this).attr("data-bound"),
                        $(this).attr("data-bound")
                    ),
                    duration: 0.1
                });
            });
        });

        // Aparece el titulo
        tl_titulo.from(".info-cont", {
            autoAlpha: 0
        });

        // Desaparecen los emojis
        tl_emo_out.to('.emo', {
            scale: 0,
            stagger: {
                each: 0.1
            }
        });

        // Desaparece 'Piensa bien piensa lindo'
        $('.section-2').each(function () {
            let trigger = $(this);

            let tl = gsap.timeline({
                scrollTrigger: {
                    trigger: trigger,
                    start: 'top-=10% center',
                    end: 'top-=10% center',
                    scrub: 1,
                }
            });

            tl.to('.info-wrap', {
                autoAlpha: 0,
            });
        });

        $('.card-s2').on('mousemove', function () {
            gsap.to($(this), {
                scale: 1.2,
            });
        });

        $('.card-s2').on('mouseleave', function () {
            gsap.to($(this), {
                scale: 1,
            });
        });
        
        tl_s2_trigger1
            .to(".cards2-0", {
                x: -100,
                y: 30
            })
            .to(".cards2-1", {
                x: -40
            }, "<")
            .to(".cards2-2", {
                x: 40
            }, "<")
            .to(".cards2-3", {
                x: 100,
                y: 30
            }, "<")
            .from(".span-mark-violeta svg", {
                scaleX: 0
            }, "<");

        mm.add("(min-width: 768px)", ()=> {
            tl_s2_trigger1
            .to(".cards2-0", {
                x: -200,
                y: 50
            })
            .to(".cards2-1", {
                x: -80
            }, "<")
            .to(".cards2-2", {
                x: 80
            }, "<")
            .to(".cards2-3", {
                x: 200,
                y: 50
            }, "<")
        });

        mm.add("(min-width: 1024px)", ()=> {
            tl_s2_trigger1
            .to(".cards2-0", {
                x: -300,
                y: 50
            })
            .to(".cards2-1", {
                x: -100
            }, "<")
            .to(".cards2-2", {
                x: 100
            }, "<")
            .to(".cards2-3", {
                x: 300,
                y: 50
            }, "<")
        });

        $('.s2-star-1').each(function () {
            let trigger = $(this);
            let tl = gsap.timeline({
                scrollTrigger: {
                    trigger: trigger,
                    start: 'top bottom',
                    end: 'bottom bottom',
                    scrub: 3,
                }
            });

            tl.fromTo(trigger, {
                rotate: -20,
                scale: 0.8
            }, {
                rotate: 90,
                scale: 1.2
            });
        });

        $('.s2-star-2').each(function () {
            let trigger = $(this);
            let tl = gsap.timeline({
                scrollTrigger: {
                    trigger: trigger,
                    start: 'top bottom',
                    end: 'bottom bottom',
                    scrub: 2,
                }
            });

            tl.fromTo(trigger, {
                scale: 0.8,
            }, {
                scale: 1.2
            });
        });

        $('.s2-star-1').each(function () {
            let trigger = $(this);
            let tl = gsap.timeline({
                scrollTrigger: {
                    trigger: trigger,
                    start: 'top center',
                    end: 'bottom center',
                    scrub: 3,
                }
            });

            tl.to(trigger, {
                autoAlpha: 0
            });
        });

        $('.s2-star-2').each(function () {
            let trigger = $(this);
            let tl = gsap.timeline({
                scrollTrigger: {
                    trigger: trigger,
                    start: 'top center',
                    end: 'bottom center',
                    scrub: 3,
                }
            });

            tl.to(trigger, {
                autoAlpha: 0
            });
        });

        tl_cards_out.to('.wrap-cards div', {
            scale: 0,
            autoAlpha: 0,
            stagger: {
                each: 0.1
            }
        }).to('.s2-title', {
            y: 200,
            stagger: {
                each: 0.1
            }
        }, "<+=0.2");

        tl_section2_backcolor.fromTo('.section-2', {
            backgroundColor: 'rgba(155,186,152,1)'
        }, {
            backgroundColor: '#FEFFE3'
        }).to('.stars-container p', {
            color: 'rgba(33, 33, 33, 0.2)'
        }, "<");

        tl_section3.from('.s3-celular-wrap', {
            y: 200,
            rotate: -10,
        })
            .to('.border1', {
                y: -100
            })
            .to('.border2', {
                y: -200
            })
            .to('.border3', {
                y: -300
            });


        tl_section2_backcolor_2.to('.section-2', {
            backgroundColor: '#fff',
        });

        $(".s3b1").on('mousedown', function () {
            gsap.to('.m' + indexMatch, {
                rotate: -90,
                duration: 2,
            });
            indexMatch -= 1;

            if (indexMatch < 1) {
                gsap.to('.s3-button', {
                    scale: 0,
                    stagger: {
                        each: 0.3
                    },
                    duration: 0.3
                });
            }
        });

        $(".s3b2").on('mousedown', function () {
            gsap.to('.m' + indexMatch, {
                rotate: 90,
                duration: 2,
            });

            indexMatch -= 1;

            if (indexMatch < 1) {
                gsap.to('.s3-button', {
                    scale: 0,
                    stagger: {
                        each: 0.3
                    },
                    duration: 0.3
                });
            }
        });

        function map(value, inMin, inMax, outMin, outMax) {
            return ((value - inMin) * (outMax - outMin)) / (inMax - inMin) + outMin;
        }
    </script>
</body>

</html>